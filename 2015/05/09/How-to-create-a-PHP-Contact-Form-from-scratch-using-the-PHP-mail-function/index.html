<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>How to create a PHP Contact Form from scratch using the PHP mail() function | Hard Rock Code</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Hey guys. How are you? Awesome, I hope. Today we are creating a really basic PHP Contact form that allows the visitors of your website to get in touch with you easily. After he sends the form, you wil">
<meta property="og:type" content="article">
<meta property="og:title" content="How to create a PHP Contact Form from scratch using the PHP mail() function">
<meta property="og:url" content="http://hardrockcode.com/2015/05/09/How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function/index.html">
<meta property="og:site_name" content="Hard Rock Code">
<meta property="og:description" content="Hey guys. How are you? Awesome, I hope. Today we are creating a really basic PHP Contact form that allows the visitors of your website to get in touch with you easily. After he sends the form, you wil">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to create a PHP Contact Form from scratch using the PHP mail() function">
<meta name="twitter:description" content="Hey guys. How are you? Awesome, I hope. Today we are creating a really basic PHP Contact form that allows the visitors of your website to get in touch with you easily. After he sends the form, you wil">
  
    <link rel="alternative" href="/atom.xml" title="Hard Rock Code" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">
          <img class="logo-img" src="css/images/hard-rock-code-logo.png" alt="Hard Rock Code">
        </a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://hardrockcode.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/09/How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function/" class="article-date">
  <time datetime="2015-05-09T22:48:19.000Z" itemprop="datePublished">09/05/2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/PHP/">PHP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      How to create a PHP Contact Form from scratch using the PHP mail() function
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hey guys. How are you? Awesome, I hope. Today we are creating a really basic PHP Contact form that allows the visitors of your website to get in touch with you easily. After he sends the form, you will receive it as an email message.</p>
<p><strong>Here is a summary of the steps involved:</strong></p>
<ul>
<li>Create a HTML page and Form from scratch;</li>
<li>Create the PHP Code that is going to handle the form and send an email.</li>
</ul>
<p><strong>What do you need to know:</strong></p>
<ul>
<li>HTML basics</li>
<li>PHP basics</li>
</ul>
<p><strong>What do you need to have:</strong></p>
<ul>
<li>A local server that runs PHP (If you are starting out, checkout <a href="http://sourceforge.net/projects/wampserver/" target="_blank" rel="external">Wamp</a>)</li>
<li>A text editor (like <a href="http://www.sublimetext.com" target="_blank" rel="external">Sublime</a>)</li>
</ul>
<h2 id="1-_Creating_the_HTML_page_and_Form_Structure">1. Creating the HTML page and Form Structure</h2><p>Open your favorite text editor and create a new page. I saved it as  <code>contact.php</code>, but you can name it whatever you like. This is the code for it:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">DOCTYPE</span> <span class="attribute">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">title</span>&gt;</span>PHP Contact Form<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">"#"</span> <span class="attribute">method</span>=<span class="value">"post"</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- Contact Name --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">label</span> <span class="attribute">for</span>=<span class="value">"contact_name"</span>&gt;</span>Name<span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">name</span>=<span class="value">"contact_name"</span> <span class="attribute">required</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- Email --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">label</span> <span class="attribute">for</span>=<span class="value">"email"</span>&gt;</span>Email<span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"email"</span> <span class="attribute">name</span>=<span class="value">"email"</span> <span class="attribute">required</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- Message --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">label</span> <span class="attribute">for</span>=<span class="value">"message"</span>&gt;</span>Message<span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">textarea</span> <span class="attribute">name</span>=<span class="value">"message"</span> <span class="attribute">cols</span>=<span class="value">"30"</span> <span class="attribute">rows</span>=<span class="value">"10"</span>&gt;</span><span class="tag">&lt;/<span class="title">textarea</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- Submit Button --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">name</span>=<span class="value">"form_submit"</span> <span class="attribute">value</span>=<span class="value">"Send Message"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>What I did above is pretty simple. I created a very basic HTML structure and the <code>&lt;form&gt;</code> element. Then, I populated it with name, email and message fields and a submit button.</p>
<p>In the <code>action=&quot;#&quot;</code> attribute, we tell the form where it’s going be sent to. In this case, it’s the same page of the form, <code>contact.php</code>, because of the <code>#</code>.</p>
<p>The <code>method=&quot;post&quot;</code> indicated the HTTP method we are using to send the form. This could be either <code>POST</code> or <code>GET</code>. For now, is enough to say that <code>POST</code> is the most suitable for this particular contact form. If you want to know more, there is this short <a href="https://docs.djangoproject.com/en/1.8/topics/forms/#get-and-post" target="_blank" rel="external">explanation from the Django Framework documentation about GET and POST</a> that is great.</p>
<p>As you can see, there is a <code>required</code> attribute in the name and email fields. This is HTML5 validation and, despite of being pretty simple to apply, does not work in every browser. We’ll stick to it for now, because form validation is not the main goal of this post - although it is extremely important.</p>
<p>Let’s go ahead now and start handling the form with <strong>PHP</strong>.</p>
<h2 id="2-_Handling_the_form_with_PHP">2. Handling the form with PHP</h2><p>First, it’s important to know that whenever you send a form to a PHP script, <strong>the form information is stored in a global array</strong>. In this case, it’s <code>$_POST</code>, because we are using the HTTP <code>POST</code> method, remember? If we were using the <code>GET</code> method, it would be <code>$_GET</code>.</p>
<p>So, how do we get that form information anyway? Simple! They are related to the name attributes of the <code>&lt;form&gt;</code> elements we created, like this:</p>
<table>
<thead>
<tr>
<th>Input</th>
<th>HTML Element</th>
<th>PHP Variable</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td><code>&lt;input type=&quot;text&quot; name=&quot;contact_name&quot; required&gt;</code></td>
<td>$_POST[‘contact_name’]</td>
</tr>
<tr>
<td>Email</td>
<td><code>&lt;input type=&quot;email&quot; name=&quot;email&quot; required&gt;</code></td>
<td>$_POST[‘email’]</td>
</tr>
<tr>
<td>Message</td>
<td><code>&lt;textarea name=&quot;message&quot; cols=&quot;30&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;</code></td>
<td>$_POST[‘message’]</td>
</tr>
<tr>
<td>Submit Button</td>
<td><code>&lt;input type=&quot;submit&quot; name=&quot;form_submit&quot; value=&quot;Send Message&quot;&gt;</code></td>
<td>$_POST[‘form_submit’]</td>
</tr>
</tbody>
</table>
<p>For this second part we are still in <code>contact.php</code>.<br>Make some space just above the <code>&lt;form&gt;</code> element we just created and write there:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// We first check if the user has submitted the form</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">'form_submit'</span>])) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Then we catch the Form inputs from the $_POST global array</span></span><br><span class="line">	<span class="variable">$name</span> = <span class="variable">$_POST</span>[<span class="string">'contact_name'</span>];</span><br><span class="line">	<span class="variable">$email</span> = <span class="variable">$_POST</span>[<span class="string">'email'</span>];</span><br><span class="line">	<span class="variable">$message</span> = <span class="string">'Message from: '</span>.<span class="variable">$name</span>.<span class="string">' ('</span> . <span class="variable">$email</span> . <span class="string">')'</span> . <span class="string">"\r\n"</span> . <span class="variable">$_POST</span>[<span class="string">'message'</span>];</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Setting some other email related variables</span></span><br><span class="line">	<span class="variable">$to</span> = <span class="string">'contact@yourwebsite.com'</span>; <span class="comment">// This is the email address to receive the messages</span></span><br><span class="line">	<span class="variable">$subject</span> = <span class="string">'Contact Form'</span>; <span class="comment">// This is the subject of the email you will receive</span></span><br><span class="line">	<span class="variable">$headers</span> = <span class="string">'From: '</span> . <span class="variable">$email</span> . <span class="string">"\r\n"</span>; <span class="comment">// 'From' header</span></span><br><span class="line">	<span class="variable">$headers</span> .= <span class="string">'Reply-To: '</span> . <span class="variable">$email</span> . <span class="string">"\r\n"</span>; <span class="comment">// 'Reply-to' header</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Sending the email</span></span><br><span class="line">	<span class="variable">$success</span> = mail(<span class="variable">$to</span>, <span class="variable">$subject</span>, <span class="variable">$message</span>, <span class="variable">$headers</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Checks if the message was sent successfully</span></span><br><span class="line">	<span class="comment">// and displays a message to the user.</span></span><br><span class="line">	<span class="keyword">if</span>(<span class="variable">$success</span>)</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"&lt;mark&gt;Your message was sent successfully!&lt;/mark&gt;"</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">echo</span> <span class="string">"&lt;mark&gt;There was an error sending your message!&lt;/mark&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="preprocessor">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The Form element is down here...</span></span><br></pre></td></tr></table></figure>
<p>Let’s now explain what is happening!<br>You can see that I wrote comments on each part of the code to make it clear what I did. Take a few moments to analyse it.</p>
<p>Checking the <a href="http://php.net/manual/pt_BR/function.mail.php" target="_blank" rel="external">PHP Mail function on the PHP documentation</a>, we can see that it needs three parameters at least, and this are <code>$to</code>, <code>$subject</code> and <code>$message</code>. We also defined some headers (that are optional parameters) so that you can reply to the user just by clicking the Reply button in your email client.</p>
<p>The <code>mail()</code> function returns <code>TRUE</code> or <code>FALSE</code> if the message wether the message was successfully sent or not. We then check it and display the information to the user accordingly.</p>
<p><strong>Hint</strong>: you can use this little program called <a href="http://www.toolheap.com/test-mail-server-tool/" target="_blank" rel="external">Test Mail Server Tool</a> to locally verify if your emails are being sent correctly. It takes seconds to get installed and is really simple to use. You can visit the <a href="http://www.toolheap.com/test-mail-server-tool/" target="_blank" rel="external">Test Mail Server Tool page here</a>.</p>
<h2 id="Conclusion">Conclusion</h2><p>It’s important to say that this is a basic and introdutory contact form. We could consider changing many things. For example, you may have noticed that it’s kind of ugly, right? We will see how to make it better looking using <strong>CSS</strong> on future tutorials.</p>
<p><a href="https://gist.github.com/bvodola/a9a934208175ed664628" target="_blank" rel="external">The code for this tutorial on GITHUB</a></p>
<p>If you have any doubts or comments on this, please, make a comment below or shoot me an email: <strong>brunno@hardrockcode.com</strong>.</p>
<p>God bless. Bye!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hardrockcode.com/2015/05/09/How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function/" data-id="ci9hmt9h90000qckm82ghajsb" class="article-share-link">Share</a>
      
        <a href="http://hardrockcode.com/2015/05/09/How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Forms/">Forms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML5/">HTML5</a></li></ul>

    </footer>
  </div>
  
    
  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Forms/">Forms</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Forms/" style="font-size: NaNpx;">Forms</a><a href="/tags/HTML5/" style="font-size: NaNpx;">HTML5</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/05/09/How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function/">How to create a PHP Contact Form from scratch using the PHP mail() function</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Brunno Vodola<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'hardrockcode';
  
  var disqus_url = 'http://hardrockcode.com/2015/05/09/How-to-create-a-PHP-Contact-Form-from-scratch-using-the-PHP-mail-function/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>